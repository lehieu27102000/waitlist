{"version":3,"file":"waitlist.min.js","mappings":"MAAA,GAAsB,oBAAXA,OAAwB,CAC/B,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,IAAM,mEAEbH,EAAOI,OAAS,WACZC,GACJ,EAEAJ,SAASK,KAAKC,YAAYP,EAC9B,MACIK,IAIJG,eAAeH,IACXN,OAAOE,UAAUQ,OAAMD,eAAgBE,GACnC,IACI,MAAMC,EAAY,CACdC,WAAY,yBACZC,kBAAmB,cACnBC,UAAW,aACXC,SAAU,eACVC,KAAM,OACNC,UAAW,uBACXC,aAAc,mBACdC,cAAe,0BACfC,cAAe,kBACfC,mBAAoB,yBACpBC,qBAAsB,yBACtBC,aAAc,kBAEZC,EAAWd,EAAE,wBAAwBe,KAAK,UAMhD,IAAIC,EAAS,CACTC,QAAS,+BACTH,SAAUA,EACVI,YAPoB,CAACA,GAAgBC,KAAKD,GAGpBE,CADN,8EA2CpBtB,eAAeuB,EAAiBC,EAAUC,EAAU,KAAMC,EAAS,OAC/D,IACI,MAAMC,EAAyB,QAAXD,GAAoBD,EAAU,IAAM,IAAIG,gBAAgBH,GAASI,WAAa,GAE5FC,QAAiBC,MAAM,GAAGb,EAAOC,UAAUK,IAAWG,IAAe,CACvED,OAAQA,EACRM,QAAS,CACL,cAAiB,SAASd,EAAOE,cACjC,OAAUF,EAAOF,SACjB,eAAgB,oBAEpBiB,KAAiB,SAAXP,EAAoBQ,KAAKC,UAAUV,GAAW,OAGxD,IAAKK,EAASM,GACV,MAAM,IAAIC,MAAM,4BAGpB,aAAaP,EAASQ,MAC1B,CAAE,MAAOC,GAEL,MADAC,QAAQD,MAAM,aAAcA,GACtBA,CACV,CACJ,CAEA,UADkBhB,EAAiB,aAE/B,OAEJ,IAAIkB,EAAW,CAAC,EACZC,EAAoB,KACxB,MAAMC,EAAkB3C,UACpB,IACI,MAAM4C,EAAQC,EAAU,iBAClBf,QApEd9B,eAA+B4C,GAC3B,IAAKA,IAAU1B,EAAOF,SAClB,MAAO,CACH8B,SAAS,EACT7B,KAAM,MAId,IACI,MAAMa,QAAiBC,MAAM,GAAGb,EAAOC,wBAAyB,CAC5DO,OAAQ,MACRM,QAAS,CACL,cAAiBY,EACjB,OAAU1B,EAAOF,SACjB,eAAgB,sBAIxB,IAAKc,EAASM,GACV,MAAM,IAAIC,MAAM,sBAIpB,MAAO,CACHS,SAAS,EACT7B,WAHea,EAASQ,OAKhC,CAAE,MAAOC,GAEL,OADAC,QAAQD,MAAM,gCAAiCA,GACxC,CACHO,SAAS,EACT7B,KAAM,KAEd,CACJ,CAkC+B8B,CAAgBH,GACvCH,EAAWX,EAASb,KACpB,MAAM+B,EAAcvD,SAASwD,iBAAiB9C,EAAUC,YACpD4C,GACAA,EAAYE,SAAS9C,IACjB,IAAI+C,kBAAiB,CAACC,EAAGC,KACrB,MAAMC,EAAWlD,EAAW6C,iBACxB9C,EAAUE,mBAEViD,IACAA,EAASJ,SAASK,IACd,MAAMhD,EAAWgD,EAAQC,cAAcrD,EAAUI,UAG3CkD,EAAUF,EAAQC,cAAcrD,EAAUK,MAC1CkD,EAAYH,EAAQC,cAAc,eAClCG,EAAYJ,EAAQC,cAAc,8BACnCC,GAGDG,EAFsBL,EAAQC,cAAc,KACVK,aAAa,QACZH,EAAWC,GAAW,SAAUG,GAC/DvD,EAASwD,UAAYD,CACzB,GAEJ,IAEJT,EAASW,aACb,IACDC,QAAQ7D,EAAY,CAAE8D,WAAW,EAAMC,SAAS,GAAO,IAIlE,MAAM7D,EAAYb,SAAS2E,eAAejE,EAAUG,WAEhDA,GAAa+D,OAAOC,SAASC,KAAKC,SAAS,cAC3C,IAAIrB,kBAAiB,CAACC,EAAGC,KACrB,MAAM9C,EAAWd,SAAS+D,cAAcrD,EAAUI,UAClD,GAAIA,EAAU,CACV,MAAMkD,EAAUnD,EAAUkD,cAAcrD,EAAUK,MAC5CkD,EAAYpD,EAAUkD,cAAc,eACpCG,EAAYrD,EAAUkD,cAAc,8BACrCC,GACDG,EAAsBS,OAAOC,SAASC,KAAMb,EAAWC,GAAW,SAAUG,GACxEvD,EAASwD,UAAYD,CACzB,IAEJT,EAASW,YACb,KACDC,QAAQ3D,EAAW,CAAE4D,WAAW,EAAMC,SAAS,GAE1D,CAAE,MAAOM,GACLjC,QAAQkC,IAAID,EAChB,GAKJ,SAASb,EAAsBe,EAAajB,EAAWC,EAAWiB,GAC9D,MAAMC,EAAQF,EAAYG,MAAM,KAC1BC,EAAQF,EAAMG,OAASH,EAAMG,MACnC,IAAIC,GAAY,EACZC,EAAO,GACX,IAAKzC,EAMD,OALKiB,GAAcC,IACfuB,GAAQ,4CACRA,GAAQ,kEAAkEH,kCAE9EH,EAASM,GAIRxB,GAAcC,IACfsB,GAAY,EACZC,GAAQ,6CAGZA,GAAQ,qDAAqDD,EAAY,GAAK,2BAA2BF,4BACzGH,EAASM,EACb,CAEA,MAAMrC,EAAasC,IAIf,IAHA,IAAIC,EAAOD,EAAa,IAEpBE,EADgBC,mBAAmB7F,SAAS8F,QAChBT,MAAM,KAC7BU,EAAI,EAAGA,EAAIH,EAAYI,OAAQD,IAAK,CAEzC,IADA,IAAID,EAASF,EAAYG,GACG,MAArBD,EAAOG,OAAO,IACjBH,EAASA,EAAOI,UAAU,GAE9B,GAA6B,IAAzBJ,EAAOK,QAAQR,GACf,OAAOG,EAAOI,UAAUP,EAAKK,OAAQF,EAAOE,OAEpD,CACA,MAAO,EAAE,EAGblG,OAAOE,UAAUoG,GAAG,QAAS1F,EAAUM,WAAW,SAAUgE,GACxDlF,OAAO,2BAA2BuG,QAClC,MAAMf,EAAQxF,OAAOwG,MAAM9E,KAAK,SAE5Bf,EAAE6F,MAAMC,SAAS,YACjBC,EAAmB/F,EAAE6F,OAGzBxG,OAAO,QAAQ2G,OAAOC,EALH,GAKuCpB,EAAO7E,EAAE6F,OACvE,IACA,MAAME,EAAsBG,IACnB3D,GAGL4D,EAAgBD,EACV,EAEJD,EAAwB,CAACG,EAAcC,EAAcH,KACvD,IAAI3D,EASJ,OADAC,EAAoB0D,EAHhB,0cACAG,EACA,mCANAF,EAAgBD,EAQD,EAEjBC,EAAkBrG,MAAOoG,IAC3B,IACI,MAAMI,EAAQ/D,GAAYA,EAASgE,QAAUhE,EAASgE,OAAO,IAAMhE,EAASgE,OAAO,GAAGD,MAAQ/D,EAASgE,OAAO,GAAGD,MAAQjH,OAAOY,EAAUS,eAAe8F,MACnJ3B,EAAQqB,EAAQnF,KAAK,SAG3B,GADA1B,OAAOY,EAAUW,sBAAsBoE,KAAK,KA4DpD,SAAuBsB,GAGnB,MADmB,6BACDG,KAAKH,KAFH,qCAE0BG,KAAKH,EACvD,CA/DaI,CAAcJ,KAAWA,EAE1B,YADAjH,OAAOY,EAAUW,sBAAsBoE,KAAK,sEAGhD3F,OAAO,QAAQ2G,OAAO,4JACtB,MAAMW,QAAkBtF,EAAiB,aAAc,CAAEuF,EAAGN,IAC5D,IAAIO,EAKAA,EAJoB,IAApBF,EAAUG,aACgBzF,EAAiB,aAAc,CACrDkF,OAAQ,CAAC,CAAED,MAAOA,KACnB,SACsBS,GAEZJ,EAAUA,UAAU,GAAGI,GAIxC,MAAMC,EAAU,aAAanC,IACvBoC,QAAa5F,EAAiB,iBAAkB,CAAEuF,EAAGI,IAC3D,IAAIE,EAOAA,EALe,IAAfD,EAAKH,aACgBzF,EAAiB,iBAAkB,CACpDwD,MAAOmC,EACPG,KAAM,UACP,SACYJ,GAEPE,EAAKA,KAAK,GAAGF,SAGP1F,EAAiB,0BAA2B,CAC1D+F,SAAUP,EACVK,MAAOA,GACR,QACH7H,OAAO,kBAAkBgI,SACzBC,IACAtH,EAAEkG,GAASqB,QAAQtH,EAAUI,UAAUmH,KAAK,UAAUC,KAAK,aAC/D,CAAE,MAAOlD,GACLlF,OAAO,kBAAkBgI,SACzBK,MAAM,yDACV,GAEEJ,EAAqB,KACvB,GAAIjI,OAAOY,EAAUY,cAAc0E,OAAS,EAIxC,OAHAlG,OAAOY,EAAUY,cAAcmE,KAAK,iCACpChF,EAAEwC,GAAmBiF,KAAK,mBAC1BzH,EAAEwC,GAAmBmF,YAAY,uBAKrCtI,OAAO,QAAQ2G,OADX,mRAC+B,EAGvC3G,OAAOE,UAAUoG,GAAG,QAAS1F,EAAUO,cAAc,WACjD2F,EAAgBnG,EAAE6F,MAEtB,IAOAxG,OAAOE,UAAUoG,GAAG,QAAS1F,EAAUU,oBAAoB,WACvDtB,OAAOY,EAAUQ,eAAe4G,QACpC,IAEA5E,GACJ,CAAE,MAAO8B,GACLjC,QAAQkC,IAAID,EAChB,CACJ,GACJ,C","sources":["webpack://BlueOtter/./waitlist/js/app.js"],"sourcesContent":["if (typeof jQuery === 'undefined') {\r\n    const script = document.createElement('script');\r\n    script.src = 'https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js';\r\n\r\n    script.onload = function () {\r\n        initWaitlist();\r\n    };\r\n\r\n    document.head.appendChild(script);\r\n} else {\r\n    initWaitlist();\r\n}\r\n\r\n// Hàm khởi tạo waitlist\r\nasync function initWaitlist() {\r\n    jQuery(document).ready(async function ($) {\r\n        try {\r\n            const selectors = {\r\n                collection: \".c7-product-collection\",\r\n                collectionProduct: \".c7-product\",\r\n                c7Wrapper: \"c7-content\",\r\n                waitlist: \".c7-waitlist\",\r\n                form: \"form\",\r\n                showModal: \".show-waitlist-modal\",\r\n                joinWaitlist: \".waitlist-submit\",\r\n                waitlistModal: \".waitlist-modal-wrapper\",\r\n                waitlistEmail: \".waitlist-email\",\r\n                waitlistModalClose: \".close-wailtlist-modal\",\r\n                waitlistNotification: \".waitlist-notification\",\r\n                waitlistForm: \".waitlist-form\",\r\n            };\r\n            const tenantId = $(\"#waitlist-javascript\").data(\"tenant\")\r\n\r\n            const createBasicAuth = (credentials) => btoa(credentials);\r\n\r\n            const credentials = 'waitlist:qsoINUkmk1vVLVhzN3M0zYlf2goxXixT06iRXt9X9jBBF624cbuvv38RvjpwXmVo';\r\n            const base64Credentials = createBasicAuth(credentials);\r\n            var config = {\r\n                baseUrl: 'https://api.commerce7.com/v1',\r\n                tenantId: tenantId,\r\n                credentials: base64Credentials\r\n            };\r\n\r\n            async function getCustomerData(token) {\r\n                if (!token || !config.tenantId) {\r\n                    return {\r\n                        success: false,\r\n                        data: null\r\n                    };\r\n                }\r\n\r\n                try {\r\n                    const response = await fetch(`${config.baseUrl}/customer/self`, {\r\n                        method: 'GET',\r\n                        headers: {\r\n                            'Authorization': token,\r\n                            'tenant': config.tenantId,\r\n                            'Content-Type': 'application/json'\r\n                        }\r\n                    });\r\n\r\n                    if (!response.ok) {\r\n                        throw new Error('API request failed');\r\n                    }\r\n\r\n                    const data = await response.json();\r\n                    return {\r\n                        success: true,\r\n                        data: data\r\n                    };\r\n                } catch (error) {\r\n                    console.error('Error fetching customer data:', error);\r\n                    return {\r\n                        success: false,\r\n                        data: null\r\n                    };\r\n                }\r\n            }\r\n            async function callCommerce7Api(endpoint, options = null, method = 'GET') {\r\n                try {\r\n                    const queryString = method === 'GET' && options ? '?' + new URLSearchParams(options).toString() : '';\r\n\r\n                    const response = await fetch(`${config.baseUrl}${endpoint}${queryString}`, {\r\n                        method: method,\r\n                        headers: {\r\n                            'Authorization': `Basic ${config.credentials}`,\r\n                            'tenant': config.tenantId,\r\n                            'Content-Type': 'application/json'\r\n                        },\r\n                        body: method === 'POST' ? JSON.stringify(options) : null\r\n                    });\r\n\r\n                    if (!response.ok) {\r\n                        throw new Error('Commerce7 Response Error');\r\n                    }\r\n\r\n                    return await response.json();\r\n                } catch (error) {\r\n                    console.error('API Error:', error);\r\n                    throw error;\r\n                }\r\n            }\r\n            const res = await callCommerce7Api('/customer');\r\n            if (!res) {\r\n                return;\r\n            }\r\n            var customer = {};\r\n            var lastClickedButton = null;\r\n            const triggerProducts = async () => {\r\n                try {\r\n                    const token = getCookie('customerToken');\r\n                    const response = await getCustomerData(token);\r\n                    customer = response.data\r\n                    const collections = document.querySelectorAll(selectors.collection);\r\n                    if (collections) {\r\n                        collections.forEach((collection) => {\r\n                            new MutationObserver((_, observer) => {\r\n                                const products = collection.querySelectorAll(\r\n                                    selectors.collectionProduct\r\n                                );\r\n                                if (products) {\r\n                                    products.forEach((product) => {\r\n                                        const waitlist = product.querySelector(selectors.waitlist);\r\n                                        // Check Sold Out & Render Join Waitlist\r\n\r\n                                        const atcForm = product.querySelector(selectors.form);\r\n                                        const messError = product.querySelector(\".c7-message\");\r\n                                        const loginMess = product.querySelector(\".c7-product__login-message\");\r\n                                        if (!atcForm) {\r\n                                            const productAnchor = product.querySelector(\"a\");\r\n                                            const productLink = productAnchor.getAttribute(\"href\");\r\n                                            renderWaitlistContent(productLink, messError, loginMess, function (content) {\r\n                                                waitlist.innerHTML = content;\r\n                                            });\r\n\r\n                                        }\r\n                                    });\r\n                                    observer.disconnect();\r\n                                }\r\n                            }).observe(collection, { childList: true, subtree: true });\r\n                        });\r\n                    }\r\n\r\n                    const c7Wrapper = document.getElementById(selectors.c7Wrapper);\r\n\r\n                    if (c7Wrapper && window.location.href.includes(\"/product/\")) {\r\n                        new MutationObserver((_, observer) => {\r\n                            const waitlist = document.querySelector(selectors.waitlist);\r\n                            if (waitlist) {\r\n                                const atcForm = c7Wrapper.querySelector(selectors.form);\r\n                                const messError = c7Wrapper.querySelector(\".c7-message\");\r\n                                const loginMess = c7Wrapper.querySelector(\".c7-product__login-message\");\r\n                                if (!atcForm) {\r\n                                    renderWaitlistContent(window.location.href, messError, loginMess, function (content) {\r\n                                        waitlist.innerHTML = content;\r\n                                    });\r\n                                }\r\n                                observer.disconnect();\r\n                            }\r\n                        }).observe(c7Wrapper, { childList: true, subtree: true });\r\n                    }\r\n                } catch (e) {\r\n                    console.log(e)\r\n                }\r\n            };\r\n\r\n\r\n            // Hàm render waitlist content đã được cập nhật\r\n            function renderWaitlistContent(productLink, messError, loginMess, callback) {\r\n                const parts = productLink.split(\"/\");\r\n                const title = parts.pop() || parts.pop();\r\n                let isSoldOut = false;\r\n                let html = '';\r\n                if (!customer) {\r\n                    if (!messError && !loginMess) {\r\n                        html += '<h5 class=\"product-soldout\">Sold Out</h5>';\r\n                        html += `<button class=\"button primary show-waitlist-modal\" data-title=\"${title}\">Join Waitlist</button>`;\r\n                    }\r\n                    callback(html);\r\n                    return;\r\n                }\r\n\r\n                if (!messError && !loginMess) {\r\n                    isSoldOut = true\r\n                    html += '<h5 class=\"product-soldout\">Sold Out</h5>';\r\n                }\r\n\r\n                html += `<button class=\"button primary show-waitlist-modal ${isSoldOut ? '' : 'for-club'}\" data-title=\"${title}\">Join Waitlist</button>`;\r\n                callback(html);\r\n            }\r\n\r\n            const getCookie = (cookieName) => {\r\n                var name = cookieName + \"=\";\r\n                var decodedCookie = decodeURIComponent(document.cookie);\r\n                var cookieArray = decodedCookie.split(';');\r\n                for (var i = 0; i < cookieArray.length; i++) {\r\n                    var cookie = cookieArray[i];\r\n                    while (cookie.charAt(0) === ' ') {\r\n                        cookie = cookie.substring(1);\r\n                    }\r\n                    if (cookie.indexOf(name) === 0) {\r\n                        return cookie.substring(name.length, cookie.length);\r\n                    }\r\n                }\r\n                return \"\";\r\n            }\r\n\r\n            jQuery(document).on(\"click\", selectors.showModal, function (e) {\r\n                jQuery('.c7-product-popup-close').click();\r\n                const title = jQuery(this).data(\"title\");\r\n                let modalContent = ''\r\n                if ($(this).hasClass('for-club')) {\r\n                    renderModalForClub($(this))\r\n                    return;\r\n                }\r\n                jQuery(\"body\").append(renderModalForSoldout(modalContent, title, $(this)));\r\n            });\r\n            const renderModalForClub = (element) => {\r\n                if (!customer) {\r\n                    return\r\n                }\r\n                handleAssignTag(element)\r\n                return;\r\n            }\r\n            const renderModalForSoldout = (modalContent, titleProduct, element) => {\r\n                if (customer) {\r\n                    handleAssignTag(element)\r\n                    return\r\n                }\r\n                modalContent =\r\n                    '<div class=\"waitlist-modal-wrapper\" id=\"waitlist-modal\"><div class=\"waitlist-modal-content\"><span class=\"close-wailtlist-modal\">+</span><h2>Waitlist Signup</h2><p>Please add your email address below and we will notify you when this is available for purchase.</p><div class=\"waitlist-form\"><label>Email Address *</label><input type=\"email\" class=\"waitlist-email\"><p class=\"waitlist-notification\"></p><div class=\"button primary waitlist-submit\" data-title=\"' +\r\n                    titleProduct +\r\n                    '\">Submit</div></div></div></div>';\r\n                lastClickedButton = element\r\n                return modalContent;\r\n            }\r\n            const handleAssignTag = async (element) => {\r\n                try {\r\n                    const email = customer && customer.emails && customer.emails[0] && customer.emails[0].email ? customer.emails[0].email : jQuery(selectors.waitlistEmail).val();\r\n                    const title = element.data(\"title\");\r\n\r\n                    jQuery(selectors.waitlistNotification).html(\"\");\r\n                    if (!validateEmail(email) || !email) {\r\n                        jQuery(selectors.waitlistNotification).html('Please enter your email and make sure it is in the correct format.');\r\n                        return;\r\n                    }\r\n                    jQuery(\"body\").append('<div class=\"waitlist-modal-wrapper loading-modal\" id=\"loading-modal\"><div class=\"waitlist-modal-content\"><div class=\"loading-spinner\"></div></div></div>');\r\n                    const customers = await callCommerce7Api(\"/customer/\", { q: email });\r\n                    let customerId;\r\n                    if (customers.total === 0) {\r\n                        const newCustomer = await callCommerce7Api(\"/customer/\", {\r\n                            emails: [{ email: email }]\r\n                        }, \"POST\");\r\n                        customerId = newCustomer.id;\r\n                    } else {\r\n                        customerId = customers.customers[0].id;\r\n                    }\r\n\r\n                    // Tìm hoặc tạo tag\r\n                    const tagName = `Waitlist: ${title}`;\r\n                    const tags = await callCommerce7Api(\"/tag/customer/\", { q: tagName });\r\n                    let tagId;\r\n\r\n                    if (tags.total === 0) {\r\n                        const newTag = await callCommerce7Api(\"/tag/customer/\", {\r\n                            title: tagName,\r\n                            type: \"Manual\"\r\n                        }, \"POST\");\r\n                        tagId = newTag.id;\r\n                    } else {\r\n                        tagId = tags.tags[0].id;\r\n                    }\r\n\r\n                    const res = await callCommerce7Api(\"/tag-x-object/customer/\", {\r\n                        objectId: customerId,\r\n                        tagId: tagId\r\n                    }, \"POST\");\r\n                    jQuery(\"#loading-modal\").remove();\r\n                    renderModalSuccess();\r\n                    $(element).closest(selectors.waitlist).find('button').text('Waitlisted')\r\n                } catch (e) {\r\n                    jQuery(\"#loading-modal\").remove();\r\n                    alert(\"System is busy at this moment. Please try again later.\")\r\n                }\r\n            }\r\n            const renderModalSuccess = () => {\r\n                if (jQuery(selectors.waitlistForm).length > 0) {\r\n                    jQuery(selectors.waitlistForm).html('Received! You\\'re on the list!');\r\n                    $(lastClickedButton).text('Waitlisted')\r\n                    $(lastClickedButton).removeClass(\"show-waitlist-modal\")\r\n                    return\r\n                }\r\n                const modalContent =\r\n                    '<div class=\"waitlist-modal-wrapper\" id=\"waitlist-modal\"><div class=\"waitlist-modal-content\"><span class=\"close-wailtlist-modal\">+</span><h2>Waitlist Signup</h2><div class=\"waitlist-form\"><p class=\"waitlist-notification\">Received! You\\'re on the list!</p></div></div></div>';\r\n                jQuery(\"body\").append(modalContent);\r\n            }\r\n            // action for sold out\r\n            jQuery(document).on(\"click\", selectors.joinWaitlist, function () {\r\n                handleAssignTag($(this))\r\n\r\n            });\r\n            function validateEmail(email) {\r\n                const spamPattern = /^(test|fake|spam|noreply)[\\w.-]*@/i;\r\n                const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n                return emailRegex.test(email) && !spamPattern.test(email);\r\n            }\r\n\r\n            jQuery(document).on(\"click\", selectors.waitlistModalClose, function () {\r\n                jQuery(selectors.waitlistModal).remove();\r\n            });\r\n\r\n            triggerProducts();\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    });\r\n}\r\n"],"names":["jQuery","script","document","createElement","src","onload","initWaitlist","head","appendChild","async","ready","$","selectors","collection","collectionProduct","c7Wrapper","waitlist","form","showModal","joinWaitlist","waitlistModal","waitlistEmail","waitlistModalClose","waitlistNotification","waitlistForm","tenantId","data","config","baseUrl","credentials","btoa","createBasicAuth","callCommerce7Api","endpoint","options","method","queryString","URLSearchParams","toString","response","fetch","headers","body","JSON","stringify","ok","Error","json","error","console","customer","lastClickedButton","triggerProducts","token","getCookie","success","getCustomerData","collections","querySelectorAll","forEach","MutationObserver","_","observer","products","product","querySelector","atcForm","messError","loginMess","renderWaitlistContent","getAttribute","content","innerHTML","disconnect","observe","childList","subtree","getElementById","window","location","href","includes","e","log","productLink","callback","parts","split","title","pop","isSoldOut","html","cookieName","name","cookieArray","decodeURIComponent","cookie","i","length","charAt","substring","indexOf","on","click","this","hasClass","renderModalForClub","append","renderModalForSoldout","element","handleAssignTag","modalContent","titleProduct","email","emails","val","test","validateEmail","customers","q","customerId","total","id","tagName","tags","tagId","type","objectId","remove","renderModalSuccess","closest","find","text","alert","removeClass"],"sourceRoot":""}